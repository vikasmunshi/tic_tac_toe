#!/usr/bin/env python
# -*- coding: utf-8 -*-
# tic_tac_toe/strategies/static_3x3.py
import random

board_center_char = 'e'
board_chars = 'abcdefghi'
board_size = 3


def board_to_move(moves_str):
    return {
        "": "acgi",
        "a": "e",
        "b": "ac",
        "c": "e",
        "e": "acgi",
        "ab": "e",
        "ac": "gi",
        "ad": "e",
        "ae": "i",
        "af": "e",
        "ag": "ci",
        "ah": "e",
        "ai": "cg",
        "ca": "gi",
        "cb": "e",
        "cd": "e",
        "ce": "g",
        "cf": "e",
        "cg": "ai",
        "ch": "e",
        "ci": "ag",
        "aeb": "c",
        "aec": "b",
        "aed": "g",
        "aef": "chi",
        "aeg": "d",
        "aeh": "fgi",
        "aei": "bdfh",
        "bac": "degh",
        "bad": "e",
        "bae": "h",
        "baf": "eg",
        "bag": "e",
        "bah": "e",
        "bai": "e",
        "bca": "efhi",
        "bcd": "ei",
        "bce": "h",
        "bcf": "e",
        "bcg": "e",
        "bch": "e",
        "bci": "e",
        "cea": "b",
        "ceb": "a",
        "ced": "agh",
        "cef": "i",
        "ceg": "bdfh",
        "ceh": "dgi",
        "cei": "f",
        "eab": "h",
        "eac": "g",
        "ead": "f",
        "eaf": "d",
        "eag": "c",
        "eah": "b",
        "eai": "cg",
        "eca": "i",
        "ecb": "h",
        "ecd": "f",
        "ecf": "d",
        "ecg": "ai",
        "ech": "b",
        "eci": "a",
        "abec": "i",
        "abed": "i",
        "abef": "i",
        "abeg": "i",
        "abeh": "i",
        "abei": "dg",
        "acgb": "d",
        "acgd": "i",
        "acge": "d",
        "acgf": "d",
        "acgh": "d",
        "acgi": "d",
        "acib": "e",
        "acid": "e",
        "acie": "g",
        "acif": "e",
        "acig": "e",
        "acih": "e",
        "adeb": "i",
        "adec": "i",
        "adef": "i",
        "adeg": "i",
        "adeh": "i",
        "adei": "bc",
        "aeib": "h",
        "aeic": "g",
        "aeid": "f",
        "aeif": "d",
        "aeig": "c",
        "aeih": "b",
        "afeb": "i",
        "afec": "i",
        "afed": "i",
        "afeg": "i",
        "afeh": "i",
        "afei": "c",
        "agcb": "i",
        "agcd": "b",
        "agce": "b",
        "agcf": "b",
        "agch": "b",
        "agci": "b",
        "agib": "e",
        "agic": "e",
        "agid": "e",
        "agie": "c",
        "agif": "e",
        "agih": "e",
        "aheb": "i",
        "ahec": "i",
        "ahed": "i",
        "ahef": "i",
        "aheg": "i",
        "ahei": "g",
        "aicb": "g",
        "aicd": "b",
        "aice": "b",
        "aicf": "b",
        "aicg": "b",
        "aich": "b",
        "aigb": "d",
        "aigc": "d",
        "aigd": "c",
        "aige": "d",
        "aigf": "d",
        "aigh": "d",
        "cagb": "e",
        "cagd": "e",
        "cage": "i",
        "cagf": "e",
        "cagh": "e",
        "cagi": "e",
        "caib": "f",
        "caid": "f",
        "caie": "f",
        "caif": "g",
        "caig": "f",
        "caih": "f",
        "cbea": "g",
        "cbed": "g",
        "cbef": "g",
        "cbeg": "fi",
        "cbeh": "g",
        "cbei": "g",
        "cdea": "g",
        "cdeb": "g",
        "cdef": "g",
        "cdeg": "a",
        "cdeh": "g",
        "cdei": "g",
        "cega": "i",
        "cegb": "h",
        "cegd": "f",
        "cegf": "d",
        "cegh": "b",
        "cegi": "a",
        "cfea": "g",
        "cfeb": "g",
        "cfed": "g",
        "cfeg": "ab",
        "cfeh": "g",
        "cfei": "g",
        "cgab": "i",
        "cgad": "b",
        "cgae": "b",
        "cgaf": "b",
        "cgah": "b",
        "cgai": "b",
        "cgia": "f",
        "cgib": "f",
        "cgid": "f",
        "cgie": "f",
        "cgif": "a",
        "cgih": "f",
        "chea": "g",
        "cheb": "g",
        "ched": "g",
        "chef": "g",
        "cheg": "i",
        "chei": "g",
        "ciab": "g",
        "ciad": "b",
        "ciae": "b",
        "ciaf": "b",
        "ciag": "b",
        "ciah": "b",
        "ciga": "e",
        "cigb": "e",
        "cigd": "e",
        "cige": "a",
        "cigf": "e",
        "cigh": "e",
        "aebcd": "g",
        "aebcf": "g",
        "aebcg": "d",
        "aebch": "g",
        "aebci": "g",
        "aecbd": "h",
        "aecbf": "h",
        "aecbg": "h",
        "aecbh": "dfgi",
        "aecbi": "h",
        "aedgb": "c",
        "aedgc": "b",
        "aedgf": "c",
        "aedgh": "c",
        "aedgi": "c",
        "aefbd": "h",
        "aefbh": "cgi",
        "aefcb": "g",
        "aefcd": "g",
        "aefcg": "d",
        "aefch": "g",
        "aefci": "g",
        "aefdc": "bi",
        "aefdh": "bcgi",
        "aefgc": "bi",
        "aefhb": "c",
        "aefhc": "b",
        "aefhd": "b",
        "aefhg": "b",
        "aefhi": "b",
        "aefib": "c",
        "aefic": "b",
        "aefid": "g",
        "aefig": "d",
        "aefih": "bcdg",
        "aegdb": "f",
        "aegdc": "f",
        "aegdf": "bchi",
        "aegdh": "f",
        "aegdi": "f",
        "aehbf": "cgi",
        "aehcf": "g",
        "aehcg": "di",
        "aehci": "g",
        "aehdb": "f",
        "aehdc": "f",
        "aehdf": "bci",
        "aehdg": "f",
        "aehdi": "f",
        "aehfb": "d",
        "aehfc": "d",
        "aehfd": "g",
        "aehfg": "d",
        "aehfi": "d",
        "aehgb": "c",
        "aehgc": "b",
        "aehgd": "c",
        "aehgf": "c",
        "aehgi": "c",
        "aehib": "c",
        "aehic": "b",
        "aehid": "g",
        "aehif": "bcdg",
        "aehig": "d",
        "aeibc": "h",
        "aeibd": "h",
        "aeibf": "h",
        "aeibg": "h",
        "aeibh": "g",
        "aeicb": "g",
        "aeicd": "g",
        "aeicf": "g",
        "aeicg": "dh",
        "aeidb": "f",
        "aeidc": "f",
        "aeidf": "c",
        "aeidg": "f",
        "aeidh": "f",
        "aeifb": "d",
        "aeifc": "d",
        "aeifd": "g",
        "aeifg": "d",
        "aeifh": "d",
        "aeigc": "bf",
        "aeigf": "c",
        "aeihb": "c",
        "aeihc": "b",
        "aeihd": "b",
        "aeihf": "b",
        "aeihg": "b",
        "bacde": "g",
        "bacdf": "g",
        "bacdg": "e",
        "bacdh": "g",
        "bacdi": "g",
        "baced": "i",
        "bacef": "i",
        "baceg": "i",
        "baceh": "i",
        "bacei": "f",
        "bacfe": "gh",
        "bacfg": "e",
        "bacgd": "i",
        "bacge": "d",
        "bacgf": "d",
        "bacgh": "d",
        "bacgi": "d",
        "bachd": "i",
        "bache": "g",
        "bachf": "i",
        "bachg": "e",
        "bachi": "f",
        "bacie": "gh",
        "badce": "fh",
        "badec": "i",
        "badef": "i",
        "badeg": "i",
        "badeh": "i",
        "badei": "cfgh",
        "badfc": "egh",
        "badfe": "h",
        "badfg": "i",
        "badfh": "e",
        "badfi": "cegh",
        "badge": "fh",
        "badhc": "i",
        "badhe": "f",
        "badhf": "e",
        "badhi": "cef",
        "badie": "fh",
        "baehc": "g",
        "baehd": "f",
        "baehf": "d",
        "baehg": "c",
        "baehi": "cdfg",
        "bafcd": "e",
        "bafce": "dh",
        "bafcg": "dehi",
        "bafci": "g",
        "bafde": "g",
        "bafdg": "chi",
        "bafdh": "g",
        "bafdi": "g",
        "bafec": "i",
        "bafed": "i",
        "bafeg": "i",
        "bafeh": "i",
        "bafei": "c",
        "bafgc": "d",
        "bafgd": "e",
        "bafge": "d",
        "bafgh": "d",
        "bafgi": "d",
        "bafhe": "d",
        "bafhg": "cde",
        "bafhi": "c",
        "bafic": "e",
        "bafid": "e",
        "bafie": "d",
        "bafig": "e",
        "bafih": "e",
        "bagcd": "i",
        "bagce": "h",
        "bagcf": "ehi",
        "bagdc": "e",
        "bagde": "ch",
        "bagec": "i",
        "baged": "i",
        "bagef": "i",
        "bageh": "i",
        "bagei": "h",
        "bagfe": "ch",
        "bagfi": "h",
        "baghc": "e",
        "baghd": "cefi",
        "baghf": "cdei",
        "baghi": "cef",
        "bagie": "h",
        "bagih": "e",
        "bahec": "i",
        "bahed": "i",
        "bahef": "i",
        "baheg": "i",
        "bahei": "g",
        "baicd": "efgh",
        "baice": "h",
        "baicf": "g",
        "baicg": "h",
        "baich": "eg",
        "baidc": "g",
        "baide": "g",
        "baidf": "g",
        "baiec": "f",
        "baied": "cfgh",
        "baief": "c",
        "baieg": "h",
        "baieh": "g",
        "baifc": "d",
        "baifd": "cegh",
        "baife": "h",
        "baifh": "eg",
        "baigd": "cef",
        "baihc": "f",
        "baihd": "cef",
        "baihe": "cdfg",
        "baihf": "c",
        "baihg": "cdef",
        "bcade": "hi",
        "bcadi": "e",
        "bcaed": "g",
        "bcaef": "g",
        "bcaeg": "d",
        "bcaeh": "g",
        "bcaei": "g",
        "bcafd": "i",
        "bcafe": "i",
        "bcafg": "i",
        "bcafh": "i",
        "bcafi": "e",
        "bcage": "hi",
        "bcahd": "g",
        "bcahe": "i",
        "bcahf": "g",
        "bcahg": "d",
        "bcahi": "e",
        "bcaid": "f",
        "bcaie": "f",
        "bcaif": "g",
        "bcaig": "f",
        "bcaih": "f",
        "bcdae": "fh",
        "bcdaf": "e",
        "bcdag": "i",
        "bcdah": "e",
        "bcdai": "efgh",
        "bcdea": "g",
        "bcdef": "g",
        "bcdeg": "a",
        "bcdeh": "g",
        "bcdei": "g",
        "bcdfa": "i",
        "bcdfe": "i",
        "bcdfg": "i",
        "bcdfh": "i",
        "bcdfi": "agh",
        "bcdga": "e",
        "bcdge": "f",
        "bcdgf": "e",
        "bcdgh": "e",
        "bcdgi": "e",
        "bcdha": "g",
        "bcdhe": "f",
        "bcdhf": "e",
        "bcdhg": "a",
        "bcdhi": "aeg",
        "bcdia": "f",
        "bcdie": "f",
        "bcdif": "e",
        "bcdig": "f",
        "bcdih": "f",
        "bceha": "i",
        "bcehd": "f",
        "bcehf": "d",
        "bcehg": "adfi",
        "bcehi": "a",
        "bcfad": "e",
        "bcfae": "dh",
        "bcfag": "dehi",
        "bcfah": "e",
        "bcfai": "g",
        "bcfda": "eghi",
        "bcfde": "h",
        "bcfdg": "ehi",
        "bcfdh": "e",
        "bcfdi": "g",
        "bcfea": "g",
        "bcfed": "g",
        "bcfeg": "adhi",
        "bcfeh": "g",
        "bcfei": "g",
        "bcfga": "e",
        "bcfgd": "e",
        "bcfge": "dh",
        "bcfha": "g",
        "bcfhd": "e",
        "bcfhe": "d",
        "bcfhg": "adei",
        "bcfhi": "ade",
        "bcfia": "g",
        "bcfie": "dh",
        "bcfih": "e",
        "bcgah": "ei",
        "bcgda": "f",
        "bcgdf": "aehi",
        "bcgdh": "ei",
        "bcgdi": "h",
        "bcgea": "d",
        "bcged": "a",
        "bcgef": "adhi",
        "bcgeh": "i",
        "bcgei": "h",
        "bcgfa": "i",
        "bcgfd": "i",
        "bcgfh": "i",
        "bcgha": "d",
        "bcghd": "a",
        "bcghe": "adfi",
        "bcghf": "ade",
        "bcghi": "adef",
        "bcgia": "f",
        "bcgid": "f",
        "bcgie": "f",
        "bcgif": "deh",
        "bcgih": "f",
        "bchea": "g",
        "bched": "g",
        "bchef": "g",
        "bcheg": "i",
        "bchei": "g",
        "bciae": "h",
        "bciaf": "g",
        "bciah": "eg",
        "bcidg": "h",
        "bcidh": "eg",
        "bciea": "g",
        "bcied": "g",
        "bcief": "g",
        "bcieg": "h",
        "bcieh": "g",
        "bcifd": "aegh",
        "bcife": "ah",
        "bcifg": "h",
        "bciga": "e",
        "bcigd": "e",
        "bcige": "a",
        "bcigf": "e",
        "bcigh": "e",
        "bciha": "e",
        "bcihd": "aefg",
        "bcihe": "a",
        "bcihf": "ade",
        "bcihg": "adef",
        "ceabd": "h",
        "ceabf": "h",
        "ceabg": "h",
        "ceabh": "dfgi",
        "ceabi": "h",
        "cebad": "i",
        "cebaf": "i",
        "cebag": "i",
        "cebah": "i",
        "cebai": "f",
        "cedab": "i",
        "cedaf": "i",
        "cedag": "i",
        "cedah": "i",
        "cedai": "f",
        "cedba": "h",
        "cedbf": "h",
        "cedbg": "h",
        "cedbh": "agi",
        "cedbi": "h",
        "cedfa": "bg",
        "cedfb": "a",
        "cedfg": "a",
        "cedfh": "abgi",
        "cedfi": "abgh",
        "cedga": "b",
        "cedgb": "a",
        "cedgf": "i",
        "cedgh": "abfi",
        "cedgi": "f",
        "cedha": "b",
        "cedhb": "a",
        "cedhf": "b",
        "cedhg": "b",
        "cedhi": "b",
        "cedia": "bg",
        "cedig": "a",
        "cedih": "a",
        "cefia": "b",
        "cefib": "a",
        "cefid": "a",
        "cefig": "a",
        "cefih": "a",
        "cegab": "i",
        "cegad": "i",
        "cegaf": "i",
        "cegai": "fh",
        "cegba": "h",
        "cegbd": "h",
        "cegbf": "h",
        "cegbh": "i",
        "cegbi": "h",
        "cegda": "f",
        "cegdb": "f",
        "cegdf": "i",
        "cegdh": "f",
        "cegdi": "f",
        "cegfa": "d",
        "cegfb": "d",
        "cegfd": "a",
        "cegfh": "d",
        "cegfi": "d",
        "cegha": "b",
        "ceghb": "a",
        "ceghd": "b",
        "ceghf": "b",
        "ceghi": "b",
        "cegia": "bd",
        "cegid": "a",
        "cehab": "i",
        "cehai": "fg",
        "cehba": "dfgi",
        "cehbd": "afgi",
        "cehbf": "i",
        "cehbg": "i",
        "cehbi": "fg",
        "cehda": "f",
        "cehdb": "f",
        "cehdf": "i",
        "cehdg": "f",
        "cehdi": "f",
        "cehfa": "d",
        "cehfb": "d",
        "cehfd": "agi",
        "cehfg": "d",
        "cehfi": "d",
        "cehga": "b",
        "cehgb": "a",
        "cehgd": "abfi",
        "cehgf": "i",
        "cehgi": "f",
        "cehia": "b",
        "cehib": "a",
        "cehid": "a",
        "cehif": "a",
        "cehig": "a",
        "ceifa": "d",
        "ceifb": "d",
        "ceifd": "abgh",
        "ceifg": "d",
        "ceifh": "d",
        "eabhc": "g",
        "eabhd": "f",
        "eabhf": "d",
        "eabhg": "c",
        "eabhi": "cdfg",
        "eacgb": "d",
        "eacgd": "f",
        "eacgf": "d",
        "eacgh": "d",
        "eacgi": "d",
        "eadfb": "h",
        "eadfc": "g",
        "eadfg": "c",
        "eadfh": "b",
        "eadfi": "bcgh",
        "eafdb": "g",
        "eafdc": "g",
        "eafdg": "c",
        "eafdh": "g",
        "eafdi": "g",
        "eagcb": "h",
        "eagcd": "b",
        "eagcf": "b",
        "eagch": "b",
        "eagci": "b",
        "eahbc": "g",
        "eahbd": "c",
        "eahbf": "c",
        "eahbg": "c",
        "eahbi": "c",
        "eaibc": "fg",
        "eaicb": "h",
        "eaicd": "b",
        "eaicf": "b",
        "eaicg": "b",
        "eaich": "b",
        "eaidg": "ch",
        "eaidh": "g",
        "eaifg": "ch",
        "eaigb": "d",
        "eaigc": "d",
        "eaigd": "f",
        "eaigf": "d",
        "eaigh": "d",
        "eaihb": "cdfg",
        "eaihc": "fg",
        "ecaib": "f",
        "ecaid": "f",
        "ecaif": "d",
        "ecaig": "f",
        "ecaih": "f",
        "ecbha": "i",
        "ecbhd": "f",
        "ecbhf": "d",
        "ecbhg": "adfi",
        "ecbhi": "a",
        "ecdfa": "i",
        "ecdfb": "i",
        "ecdfg": "i",
        "ecdfh": "i",
        "ecdfi": "a",
        "ecfda": "i",
        "ecfdb": "h",
        "ecfdg": "abhi",
        "ecfdh": "b",
        "ecfdi": "a",
        "ecgab": "h",
        "ecgad": "b",
        "ecgaf": "b",
        "ecgah": "b",
        "ecgai": "b",
        "ecgba": "di",
        "ecgbd": "a",
        "ecgda": "i",
        "ecgdb": "h",
        "ecgdf": "abhi",
        "ecgdi": "ah",
        "ecgfi": "ah",
        "ecgha": "di",
        "ecghb": "adfi",
        "ecgia": "f",
        "ecgib": "f",
        "ecgid": "f",
        "ecgif": "d",
        "ecgih": "f",
        "echba": "i",
        "echbd": "a",
        "echbf": "a",
        "echbg": "a",
        "echbi": "a",
        "eciab": "h",
        "eciad": "b",
        "eciaf": "b",
        "eciag": "b",
        "eciah": "b",
        "abeidc": "fg",
        "abeidf": "g",
        "abeidg": "f",
        "abeidh": "fg",
        "abeigc": "d",
        "abeigd": "c",
        "abeigf": "cd",
        "abeigh": "cd",
        "acgdib": "eh",
        "acgdie": "h",
        "acgdif": "eh",
        "acgdih": "e",
        "aciegb": "dh",
        "aciegd": "h",
        "aciegf": "dh",
        "aciegh": "d",
        "adeibc": "h",
        "adeibf": "ch",
        "adeibg": "ch",
        "adeibh": "c",
        "adeicb": "g",
        "adeicf": "bg",
        "adeicg": "b",
        "adeich": "bg",
        "aeibhc": "g",
        "aeibhd": "g",
        "aeibhf": "g",
        "aeibhg": "c",
        "aeicgb": "dh",
        "aeicgd": "h",
        "aeicgf": "dh",
        "aeicgh": "d",
        "aeidfb": "c",
        "aeidfc": "g",
        "aeidfg": "c",
        "aeidfh": "c",
        "aeifdb": "g",
        "aeifdc": "g",
        "aeifdg": "c",
        "aeifdh": "g",
        "aeigcb": "f",
        "aeigcd": "bf",
        "aeigcf": "b",
        "aeigch": "bf",
        "aeihbc": "g",
        "aeihbd": "c",
        "aeihbf": "c",
        "aeihbg": "c",
        "afeicb": "g",
        "afeicd": "bg",
        "afeicg": "b",
        "afeich": "bg",
        "agcbid": "ef",
        "agcbie": "f",
        "agcbif": "e",
        "agcbih": "ef",
        "agiecb": "f",
        "agiecd": "bf",
        "agiecf": "b",
        "agiech": "bf",
        "aheigb": "cd",
        "aheigc": "d",
        "aheigd": "c",
        "aheigf": "cd",
        "aicbgd": "e",
        "aicbge": "d",
        "aicbgf": "de",
        "aicbgh": "de",
        "aigdcb": "e",
        "aigdce": "b",
        "aigdcf": "be",
        "aigdch": "be",
        "cageib": "fh",
        "cageid": "fh",
        "cageif": "h",
        "cageih": "f",
        "caifgb": "eh",
        "caifgd": "eh",
        "caifge": "h",
        "caifgh": "e",
        "cbegfa": "di",
        "cbegfd": "i",
        "cbegfh": "di",
        "cbegfi": "d",
        "cbegia": "f",
        "cbegid": "af",
        "cbegif": "a",
        "cbegih": "af",
        "cdegab": "i",
        "cdegaf": "bi",
        "cdegah": "bi",
        "cdegai": "b",
        "cegaib": "fh",
        "cegaid": "fh",
        "cegaif": "h",
        "cegaih": "f",
        "cegbha": "i",
        "cegbhd": "i",
        "cegbhf": "i",
        "cegbhi": "a",
        "cegdfa": "i",
        "cegdfb": "i",
        "cegdfh": "i",
        "cegdfi": "a",
        "cegfda": "i",
        "cegfdb": "a",
        "cegfdh": "a",
        "cegfdi": "a",
        "ceghba": "i",
        "ceghbd": "a",
        "ceghbf": "a",
        "ceghbi": "a",
        "cegiab": "d",
        "cegiad": "b",
        "cegiaf": "bd",
        "cegiah": "bd",
        "cfegab": "i",
        "cfegad": "bi",
        "cfegah": "bi",
        "cfegai": "b",
        "cfegba": "h",
        "cfegbd": "ah",
        "cfegbh": "a",
        "cfegbi": "ah",
        "cgabid": "ef",
        "cgabie": "f",
        "cgabif": "e",
        "cgabih": "ef",
        "cgifab": "e",
        "cgifad": "be",
        "cgifae": "b",
        "cgifah": "be",
        "chegia": "f",
        "chegib": "af",
        "chegid": "af",
        "chegif": "a",
        "ciabgd": "e",
        "ciabge": "d",
        "ciabgf": "de",
        "ciabgh": "de",
        "cigeab": "d",
        "cigead": "b",
        "cigeaf": "bd",
        "cigeah": "bd",
        "aebcgdf": "hi",
        "aebcgdh": "f",
        "aebcgdi": "f",
        "aecbhdf": "i",
        "aecbhdg": "f",
        "aecbhdi": "f",
        "aecbhfd": "g",
        "aecbhfg": "d",
        "aecbhfi": "d",
        "aecbhgd": "fi",
        "aecbhgf": "i",
        "aecbhgi": "f",
        "aecbhid": "g",
        "aecbhif": "dg",
        "aecbhig": "d",
        "aedgcbf": "h",
        "aedgcbh": "fi",
        "aedgcbi": "h",
        "aefbhdi": "cg",
        "aefcgdb": "hi",
        "aefcgdh": "i",
        "aefcgdi": "h",
        "aefdhib": "c",
        "aefhbcd": "g",
        "aefhbcg": "d",
        "aefhbci": "g",
        "aefibcd": "g",
        "aefibcg": "d",
        "aefibch": "g",
        "aeficbd": "h",
        "aeficbg": "h",
        "aeficbh": "dg",
        "aefidgb": "ch",
        "aefidgc": "h",
        "aefidgh": "c",
        "aefigdb": "c",
        "aefigdc": "b",
        "aefigdh": "bc",
        "aefihbc": "dg",
        "aefihbd": "g",
        "aefihbg": "d",
        "aefihcb": "g",
        "aefihcd": "g",
        "aefihcg": "d",
        "aefihdb": "c",
        "aefihdc": "b",
        "aefihdg": "bc",
        "aefihgb": "c",
        "aefihgc": "b",
        "aefihgd": "c",
        "aegdfbc": "h",
        "aegdfbh": "i",
        "aegdfbi": "h",
        "aegdfcb": "hi",
        "aegdfch": "i",
        "aegdfci": "h",
        "aegdfhb": "c",
        "aegdfhc": "b",
        "aegdfhi": "b",
        "aegdfib": "c",
        "aegdfic": "b",
        "aegdfih": "bc",
        "aehbfdi": "cg",
        "aehcgdb": "f",
        "aehdfbc": "i",
        "aehdfbg": "i",
        "aehdfcg": "i",
        "aehdfci": "g",
        "aehdfgb": "c",
        "aehdfgc": "bi",
        "aehfdgb": "c",
        "aehfdgc": "b",
        "aehfdgi": "c",
        "aehgcbd": "fi",
        "aehgcbf": "i",
        "aehgcbi": "f",
        "aehibcd": "fg",
        "aehibcf": "g",
        "aehibcg": "f",
        "aehicbd": "g",
        "aehicbf": "dg",
        "aehicbg": "d",
        "aehidgb": "c",
        "aehidgc": "b",
        "aehidgf": "c",
        "aehifbc": "dg",
        "aehifbd": "g",
        "aehifbg": "d",
        "aehifcb": "g",
        "aehifcd": "g",
        "aehifcg": "d",
        "aehifdb": "c",
        "aehifdc": "b",
        "aehifdg": "bc",
        "aehifgb": "c",
        "aehifgc": "b",
        "aehifgd": "c",
        "aehigdb": "f",
        "aehigdc": "f",
        "aehigdf": "bc",
        "aeibhgc": "f",
        "aeibhgd": "c",
        "aeibhgf": "c",
        "aeicgdf": "h",
        "aeidfcb": "g",
        "aeidfcg": "h",
        "aeidfch": "g",
        "aeifdgb": "c",
        "aeifdgc": "b",
        "aeifdgh": "c",
        "aeigcbd": "h",
        "aeihbcd": "g",
        "aeihbcf": "g",
        "aeihbcg": "d",
        "bacdgef": "i",
        "bacdgeh": "fi",
        "bacdgei": "f",
        "baceifd": "gh",
        "baceifg": "d",
        "baceifh": "d",
        "bacfegi": "d",
        "bacfgei": "d",
        "bacgdie": "h",
        "bacgdif": "eh",
        "bacgdih": "e",
        "bachdie": "g",
        "bachdif": "eg",
        "bachdig": "e",
        "bachegd": "i",
        "bachegf": "di",
        "bachegi": "d",
        "bachfid": "eg",
        "bachfie": "g",
        "bachfig": "e",
        "bachged": "i",
        "bachgef": "i",
        "bachgei": "f",
        "bachifd": "eg",
        "bachife": "g",
        "bachifg": "e",
        "badcefi": "h",
        "badeicf": "g",
        "badeicg": "h",
        "badeich": "g",
        "badeifc": "gh",
        "badeifg": "h",
        "badeifh": "g",
        "badeigc": "f",
        "badeigf": "c",
        "badeigh": "c",
        "badeihc": "f",
        "badeihf": "c",
        "badeihg": "cf",
        "badfcei": "gh",
        "badfcge": "h",
        "badfcgh": "e",
        "badfchi": "eg",
        "badfcie": "gh",
        "badfehc": "g",
        "badfehi": "cg",
        "badfgic": "e",
        "badfgih": "ce",
        "badfhec": "i",
        "badfhei": "g",
        "badfice": "h",
        "badfihc": "eg",
        "badgehc": "i",
        "badhcie": "g",
        "badhcig": "e",
        "badhefg": "c",
        "badhfei": "c",
        "badhigc": "f",
        "badhige": "f",
        "badhigf": "ce",
        "badiehc": "g",
        "baehcgd": "i",
        "baehcgf": "di",
        "baehcgi": "d",
        "baehdfc": "g",
        "baehdfg": "c",
        "baehdfi": "cg",
        "baehfdc": "g",
        "baehfdg": "c",
        "baehfdi": "g",
        "baehgcd": "f",
        "baehgcf": "d",
        "baehgci": "df",
        "baehicd": "f",
        "baehicf": "d",
        "baehicg": "df",
        "baehidc": "g",
        "baehidf": "g",
        "baehidg": "c",
        "baehifc": "g",
        "baehifd": "cg",
        "baehifg": "c",
        "baehigc": "d",
        "baehigd": "f",
        "baehigf": "d",
        "bafcdeg": "i",
        "bafcdeh": "gi",
        "bafcehg": "d",
        "bafcgeh": "i",
        "bafcige": "d",
        "bafdgec": "i",
        "bafdgei": "ch",
        "bafdgic": "e",
        "bafeicd": "g",
        "bafeicg": "h",
        "bafeich": "g",
        "bafgdec": "i",
        "bafgdeh": "ci",
        "bafgdei": "c",
        "bafhedc": "g",
        "bafhedg": "c",
        "bafhgec": "i",
        "bafhgie": "cd",
        "bafhice": "d",
        "bafhicg": "de",
        "bafiehg": "cd",
        "bagcdif": "e",
        "bagcehd": "f",
        "bagcehi": "df",
        "bagcfdh": "ei",
        "bagcfeh": "i",
        "bagcfhe": "d",
        "bagdceh": "fi",
        "bagdcei": "f",
        "bageihc": "f",
        "bageihd": "cf",
        "bageihf": "c",
        "bagfihd": "ce",
        "baghcei": "f",
        "baghdef": "i",
        "baghdfe": "c",
        "baghfci": "de",
        "baghfed": "i",
        "baghfic": "e",
        "baghidc": "ef",
        "baghiec": "f",
        "bagiecf": "dh",
        "baheigc": "d",
        "baheigd": "c",
        "baheigf": "cd",
        "baicdgf": "e",
        "baicdhf": "e",
        "baicehg": "df",
        "baicfgd": "e",
        "baicfge": "d",
        "baicghe": "df",
        "baiched": "g",
        "baidghc": "ef",
        "baidghe": "c",
        "baidghf": "c",
        "baiecfd": "gh",
        "baiecfg": "d",
        "baiecfh": "d",
        "baiedcf": "g",
        "baiedcg": "h",
        "baiedch": "g",
        "baiedfc": "gh",
        "baiedfg": "h",
        "baiedfh": "g",
        "baiedgc": "f",
        "baiedgf": "c",
        "baiedgh": "c",
        "baiedhc": "f",
        "baiedhf": "c",
        "baiedhg": "cf",
        "baiefcd": "g",
        "baiefcg": "h",
        "baiefch": "g",
        "baieghc": "f",
        "baieghd": "cf",
        "baieghf": "c",
        "baiehgc": "d",
        "baiehgd": "c",
        "baiehgf": "cd",
        "baifcdh": "eg",
        "baifdeg": "h",
        "baifdhc": "eg",
        "baifdhe": "cg",
        "baifehd": "cg",
        "baifehg": "c",
        "baigdhf": "ce",
        "baihcfd": "eg",
        "baihcfe": "g",
        "baihcfg": "e",
        "baihdce": "f",
        "baihdcf": "e",
        "baihdec": "f",
        "baihdef": "c",
        "baihdeg": "cf",
        "baihdfc": "eg",
        "baihdfe": "cg",
        "baihdfg": "ce",
        "baihdgc": "f",
        "baihdge": "f",
        "baihdgf": "ce",
        "baihecd": "f",
        "baihecf": "d",
        "baihecg": "df",
        "baihedc": "g",
        "baihedf": "g",
        "baihedg": "c",
        "baihefc": "g",
        "baihefd": "cg",
        "baihefg": "c",
        "baihegc": "d",
        "baihegd": "f",
        "baihegf": "d",
        "baihfcd": "e",
        "baihfce": "d",
        "baihfcg": "de",
        "baihgcd": "ef",
        "baihgce": "df",
        "baihgcf": "de",
        "baihgde": "c",
        "baihgdf": "c",
        "baihgec": "f",
        "baihged": "cf",
        "baihgef": "c",
        "baihgfc": "e",
        "baihgfd": "ce",
        "baihgfe": "c",
        "bcadieh": "fg",
        "bcaegdf": "hi",
        "bcaegdh": "f",
        "bcaegdi": "f",
        "bcafied": "g",
        "bcafieg": "d",
        "bcafieh": "dg",
        "bcahdge": "i",
        "bcahdgf": "ei",
        "bcahdgi": "e",
        "bcaheid": "fg",
        "bcaheif": "g",
        "bcaheig": "f",
        "bcahfgd": "ei",
        "bcahfge": "i",
        "bcahfgi": "e",
        "bcahgde": "i",
        "bcahgdf": "ei",
        "bcahgdi": "e",
        "bcahied": "g",
        "bcahief": "g",
        "bcahieg": "d",
        "bcaifgd": "eh",
        "bcaifge": "h",
        "bcaifgh": "e",
        "bcdafei": "g",
        "bcdagie": "f",
        "bcdahef": "gi",
        "bcdaieh": "g",
        "bcdegaf": "i",
        "bcdegah": "i",
        "bcdegai": "h",
        "bcdfieg": "ah",
        "bcdfieh": "g",
        "bcdfigh": "e",
        "bcdfihg": "a",
        "bcdgehi": "af",
        "bcdhage": "i",
        "bcdhagf": "ei",
        "bcdhagi": "e",
        "bcdhefa": "i",
        "bcdhefg": "i",
        "bcdhefi": "a",
        "bcdhfea": "g",
        "bcdhfeg": "a",
        "bcdhfei": "g",
        "bcdhgae": "f",
        "bcdhgaf": "e",
        "bcdhgai": "ef",
        "bcdhiae": "f",
        "bcdhiaf": "e",
        "bcdhief": "g",
        "bcdhieg": "a",
        "bcdhifa": "eg",
        "bcdhife": "a",
        "bcdhifg": "a",
        "bcdifea": "g",
        "bcdifeg": "a",
        "bcdifeh": "ag",
        "bcehaid": "fg",
        "bcehaif": "g",
        "bcehaig": "f",
        "bcehdfa": "i",
        "bcehdfg": "i",
        "bcehdfi": "a",
        "bcehfda": "i",
        "bcehfdg": "ai",
        "bcehfdi": "a",
        "bcehgad": "f",
        "bcehgaf": "d",
        "bcehgai": "df",
        "bcehgda": "i",
        "bcehgdf": "ai",
        "bcehgdi": "a",
        "bcehgfa": "i",
        "bcehgfd": "i",
        "bcehgfi": "a",
        "bcehgia": "f",
        "bcehgid": "f",
        "bcehgif": "d",
        "bcehiad": "f",
        "bcehiaf": "d",
        "bcehiag": "df",
        "bcfadeh": "gi",
        "bcfaedg": "h",
        "bcfaghe": "d",
        "bcfahei": "g",
        "bcfaige": "d",
        "bcfdaeg": "hi",
        "bcfdaeh": "g",
        "bcfdagh": "e",
        "bcfdagi": "e",
        "bcfdahi": "e",
        "bcfdaie": "h",
        "bcfdaig": "eh",
        "bcfdaih": "e",
        "bcfdeha": "i",
        "bcfdehg": "ai",
        "bcfdehi": "a",
        "bcfdgae": "h",
        "bcfdgah": "ei",
        "bcfdgai": "h",
        "bcfdgeh": "i",
        "bcfdgei": "h",
        "bcfdgha": "ei",
        "bcfdghi": "ae",
        "bcfdgia": "eh",
        "bcfdgih": "e",
        "bcfdhea": "g",
        "bcfdheg": "i",
        "bcfdhei": "g",
        "bcfdiga": "e",
        "bcfdige": "a",
        "bcfdigh": "ae",
        "bcfegad": "i",
        "bcfegah": "i",
        "bcfegai": "h",
        "bcfegda": "hi",
        "bcfegdh": "i",
        "bcfegdi": "h",
        "bcfegha": "d",
        "bcfeghd": "a",
        "bcfeghi": "ad",
        "bcfegia": "d",
        "bcfegid": "a",
        "bcfegih": "a",
        "bcfhagi": "e",
        "bcfhdea": "g",
        "bcfheda": "i",
        "bcfhedg": "ai",
        "bcfhgde": "ai",
        "bcfhgia": "d",
        "bcfhida": "e",
        "bcfhidg": "ae",
        "bcfhige": "ad",
        "bcfiagd": "eh",
        "bcfihea": "g",
        "bcgahed": "i",
        "bcgdafe": "i",
        "bcgdafi": "e",
        "bcgdfea": "hi",
        "bcgdfhi": "ae",
        "bcgdfia": "eh",
        "bcgdhia": "f",
        "bcgdiha": "e",
        "bcgdihf": "ae",
        "bcgeadf": "hi",
        "bcgeadh": "f",
        "bcgeadi": "f",
        "bcgedaf": "i",
        "bcgedah": "i",
        "bcgedai": "h",
        "bcgefad": "i",
        "bcgefah": "i",
        "bcgefai": "h",
        "bcgefda": "hi",
        "bcgefdh": "i",
        "bcgefdi": "h",
        "bcgefha": "d",
        "bcgefhd": "a",
        "bcgefhi": "ad",
        "bcgefia": "d",
        "bcgefid": "a",
        "bcgefih": "a",
        "bcgehia": "f",
        "bcgehid": "af",
        "bcgehif": "a",
        "bcgeiha": "d",
        "bcgeihd": "a",
        "bcgeihf": "ad",
        "bcgfiha": "de",
        "bcghade": "i",
        "bcghadf": "ei",
        "bcghadi": "e",
        "bcghdae": "f",
        "bcghdaf": "e",
        "bcghdai": "ef",
        "bcghead": "f",
        "bcgheaf": "d",
        "bcgheda": "i",
        "bcghedf": "ai",
        "bcghedi": "a",
        "bcghefi": "a",
        "bcgheid": "f",
        "bcghfae": "d",
        "bcghfda": "ei",
        "bcghfde": "ai",
        "bcghfdi": "ae",
        "bcghfea": "d",
        "bcghfid": "ae",
        "bcghida": "e",
        "bcghide": "a",
        "bcghiea": "d",
        "bcghied": "a",
        "bcghief": "ad",
        "bcghifd": "a",
        "bcgifae": "dh",
        "bcgifha": "d",
        "bchegia": "f",
        "bchegid": "af",
        "bchegif": "a",
        "bciaehg": "df",
        "bciafgd": "e",
        "bcidghf": "ae",
        "bciegha": "d",
        "bcieghd": "a",
        "bcieghf": "ad",
        "bcifdga": "e",
        "bcifeag": "h",
        "bcifghe": "a",
        "bcigehf": "ad",
        "bcihaed": "g",
        "bcihaef": "g",
        "bcihaeg": "d",
        "bcihdaf": "e",
        "bcihdea": "g",
        "bcihdeg": "a",
        "bcihdfg": "a",
        "bcihdgf": "e",
        "bcihead": "f",
        "bciheag": "df",
        "bcihfad": "e",
        "bcihfag": "de",
        "bcihfda": "e",
        "bcihfde": "a",
        "bcihfea": "g",
        "bcihfge": "ad",
        "bcihgae": "df",
        "bcihgda": "e",
        "bcihgde": "a",
        "bcihgdf": "ae",
        "bcihgea": "d",
        "bcihgef": "ad",
        "bcihgfd": "a",
        "ceabhdf": "i",
        "ceabhdg": "f",
        "ceabhdi": "f",
        "ceabhfd": "g",
        "ceabhfg": "d",
        "ceabhfi": "d",
        "ceabhgd": "fi",
        "ceabhgf": "i",
        "ceabhgi": "f",
        "ceabhid": "g",
        "ceabhif": "dg",
        "ceabhig": "d",
        "cebaifd": "gh",
        "cebaifg": "d",
        "cebaifh": "d",
        "cedaifb": "gh",
        "cedaifg": "h",
        "cedaifh": "g",
        "cedbhag": "i",
        "cedbhfa": "g",
        "cedbhfg": "ai",
        "cedbhfi": "g",
        "cedbhga": "fi",
        "cedbhia": "g",
        "cedbhif": "a",
        "cedbhig": "a",
        "cedfagh": "b",
        "cedfbah": "i",
        "cedfgai": "h",
        "cedfhbi": "g",
        "cedfigh": "ab",
        "cedgabf": "h",
        "cedgabh": "fi",
        "cedgabi": "h",
        "cedgbaf": "i",
        "cedgbah": "i",
        "cedgbai": "f",
        "cedgfia": "h",
        "cedgfib": "ah",
        "cedgfih": "a",
        "cedghab": "i",
        "cedghaf": "i",
        "cedghai": "f",
        "cedghba": "fi",
        "cedghbf": "i",
        "cedghbi": "f",
        "cedghfa": "b",
        "cedghfb": "a",
        "cedghfi": "ab",
        "cedghia": "b",
        "cedghib": "a",
        "cedghif": "a",
        "cedgifa": "b",
        "cedgifb": "a",
        "cedgifh": "ab",
        "cedhbaf": "i",
        "cedhbag": "i",
        "cedhbai": "f",
        "cefiabd": "h",
        "cefiabg": "h",
        "cefiabh": "dg",
        "cegaifb": "d",
        "cegbhia": "d",
        "cegbhid": "a",
        "cegbhif": "a",
        "cegdfia": "b",
        "cegdfib": "a",
        "cegdfih": "a",
        "cegfdab": "i",
        "cegfdah": "i",
        "cegfdai": "h",
        "ceghbad": "i",
        "ceghbaf": "i",
        "ceghbai": "f",
        "cehaigb": "d",
        "cehbagf": "i",
        "cehbaid": "g",
        "cehbdaf": "i",
        "cehbdfi": "g",
        "cehbdga": "fi",
        "cehbdgi": "f",
        "cehbfid": "a",
        "cehbgid": "a",
        "cehbiga": "f",
        "cehdfia": "b",
        "cehdfib": "a",
        "cehdfig": "a",
        "cehfdab": "i",
        "cehfdag": "i",
        "cehfdba": "g",
        "cehfdbg": "ai",
        "cehfdga": "b",
        "cehfdgb": "a",
        "cehfdib": "a",
        "cehgabd": "fi",
        "cehgabf": "i",
        "cehgabi": "f",
        "cehgbad": "i",
        "cehgbaf": "di",
        "cehgbai": "d",
        "cehgdab": "i",
        "cehgdaf": "i",
        "cehgdai": "f",
        "cehgdba": "fi",
        "cehgdbf": "i",
        "cehgdbi": "f",
        "cehgdfa": "b",
        "cehgdfb": "a",
        "cehgdfi": "ab",
        "cehgdia": "b",
        "cehgdib": "a",
        "cehgdif": "a",
        "cehgfia": "b",
        "cehgfib": "a",
        "cehgfid": "a",
        "cehgifa": "d",
        "cehgifb": "d",
        "cehgifd": "ab",
        "cehiabd": "g",
        "cehiabf": "dg",
        "cehiabg": "d",
        "ceifdab": "gh",
        "ceifdag": "h",
        "ceifdah": "g",
        "ceifdba": "h",
        "ceifdbg": "h",
        "ceifdbh": "g",
        "ceifdga": "b",
        "ceifdgb": "a",
        "ceifdgh": "ab",
        "ceifdha": "b",
        "ceifdhb": "a",
        "ceifdhg": "b",
        "eabhcgd": "i",
        "eabhcgf": "di",
        "eabhcgi": "d",
        "eabhdfc": "g",
        "eabhdfg": "c",
        "eabhdfi": "cg",
        "eabhfdc": "g",
        "eabhfdg": "c",
        "eabhfdi": "g",
        "eabhgcd": "f",
        "eabhgcf": "d",
        "eabhgci": "df",
        "eabhicd": "f",
        "eabhicf": "d",
        "eabhicg": "df",
        "eabhidc": "g",
        "eabhidf": "g",
        "eabhidg": "c",
        "eabhifc": "g",
        "eabhifd": "cg",
        "eabhifg": "c",
        "eabhigc": "d",
        "eabhigd": "f",
        "eabhigf": "d",
        "eacgdfb": "h",
        "eacgdfh": "b",
        "eacgdfi": "bh",
        "eadfbhc": "g",
        "eadfbhg": "c",
        "eadfbhi": "cg",
        "eadfcgb": "h",
        "eadfcgh": "b",
        "eadfcgi": "bh",
        "eadfgcb": "i",
        "eadfgch": "bi",
        "eadfgci": "b",
        "eadfhbc": "g",
        "eadfhbg": "c",
        "eadfhbi": "c",
        "eadfibc": "g",
        "eadfibg": "c",
        "eadfibh": "c",
        "eadficb": "h",
        "eadficg": "b",
        "eadfich": "b",
        "eadfigb": "h",
        "eadfigc": "bh",
        "eadfigh": "b",
        "eadfihb": "cg",
        "eadfihc": "g",
        "eadfihg": "c",
        "eafdgcb": "h",
        "eafdgch": "b",
        "eafdgci": "b",
        "eagcbhd": "f",
        "eagcbhf": "d",
        "eagcbhi": "df",
        "eahbcgd": "f",
        "eahbcgf": "d",
        "eahbcgi": "d",
        "eaicbhd": "f",
        "eaicbhf": "d",
        "eaicbhg": "df",
        "eaigdfb": "h",
        "eaigdfc": "bh",
        "eaigdfh": "b",
        "eaihbcd": "f",
        "eaihbfg": "c",
        "ecaifdb": "h",
        "ecaifdg": "bh",
        "ecaifdh": "b",
        "ecbhaid": "fg",
        "ecbhaif": "g",
        "ecbhaig": "f",
        "ecbhdfa": "i",
        "ecbhdfg": "i",
        "ecbhdfi": "a",
        "ecbhfda": "i",
        "ecbhfdg": "ai",
        "ecbhfdi": "a",
        "ecbhgad": "f",
        "ecbhgaf": "d",
        "ecbhgai": "df",
        "ecbhgda": "i",
        "ecbhgdf": "ai",
        "ecbhgdi": "a",
        "ecbhgfa": "i",
        "ecbhgfd": "i",
        "ecbhgfi": "a",
        "ecbhgia": "f",
        "ecbhgid": "f",
        "ecbhgif": "d",
        "ecbhiad": "f",
        "ecbhiaf": "d",
        "ecbhiag": "df",
        "ecdfiab": "h",
        "ecdfiag": "b",
        "ecdfiah": "b",
        "ecfdaib": "h",
        "ecfdaig": "bh",
        "ecfdaih": "b",
        "ecfdbha": "i",
        "ecfdbhg": "ai",
        "ecfdbhi": "a",
        "ecfdgab": "h",
        "ecfdgah": "b",
        "ecfdgai": "b",
        "ecfdgba": "i",
        "ecfdgbh": "a",
        "ecfdgbi": "a",
        "ecfdgha": "i",
        "ecfdghb": "ai",
        "ecfdghi": "a",
        "ecfdgia": "bh",
        "ecfdgib": "h",
        "ecfdgih": "b",
        "ecfdhba": "i",
        "ecfdhbg": "a",
        "ecfdhbi": "a",
        "ecfdiab": "g",
        "ecfdiag": "b",
        "ecfdiah": "bg",
        "ecgabhd": "f",
        "ecgabhf": "d",
        "ecgabhi": "df",
        "ecgdaif": "bh",
        "ecgdbhf": "ai",
        "ecgdbhi": "a",
        "ecgdfab": "h",
        "ecgdfib": "h",
        "ecghbdf": "ai",
        "ecghbfi": "a",
        "ecgifda": "bh",
        "ecgifdb": "h",
        "ecgifdh": "b",
        "echbaid": "f",
        "echbaif": "d",
        "echbaig": "f",
        "eciabhd": "f",
        "eciabhf": "d",
        "eciabhg": "df",
        "aeibhgcd": "f",
        "aeibhgcf": "d",
        "aeidfcgb": "h",
        "aeidfcgh": "b",
        "aeifdgcb": "h",
        "aeifdgch": "b",
        "aeihbcgd": "f",
        "aeihbcgf": "d",
        "cegbhiad": "f",
        "cegbhiaf": "d",
        "cegdfiab": "h",
        "cegdfiah": "b",
        "cegfdaib": "h",
        "cegfdaih": "b",
        "ceghbaid": "f",
        "ceghbaif": "d"
    }[moves_str]


def cached(func):
    cache = {}

    def f(*args):
        if args not in cache:
            cache[args] = func(*args)
        return cache[args]

    return f


@cached
def char_to_cell(char):
    return board_chars.index(char) // board_size, board_chars.index(char) % board_size


@cached
def cells_to_chars(moves):
    return ''.join(board_chars[cell[1] + cell[0] * board_size] for cell in moves)


@cached
def get_orientation(moves_str):
    return 0 if len(moves_str) == 0 or (len(moves_str) == 1 and moves_str[0] == board_center_char) else \
        {
            'a': 0, 'b': 0, 'c': 0, 'd': 3, 'f': 1, 'g': 3, 'h': 2, 'i': 1
        }[moves_str[0] if moves_str[0] != board_center_char else moves_str[1]]


@cached
def rotate(moves_str, turns):
    for _ in range(turns % 4):
        moves_str = ''.join({'a': 'g', 'b': 'd', 'c': 'a',
                             'd': 'h', 'e': 'e', 'f': 'b',
                             'g': 'i', 'h': 'f', 'i': 'c'}[c] for c in moves_str)
    return moves_str


def strategy(board):
    next_moves = board_to_move(rotate(cells_to_chars(board.moves), get_orientation(cells_to_chars(board.moves))))
    return char_to_cell(rotate(random.choice(next_moves), - get_orientation(cells_to_chars(board.moves))))
